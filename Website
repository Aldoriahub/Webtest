<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Auto-Updating Page</title>
  <script>
    const repoOwner = 'Aldoriahub';
    const repoName = 'Webtest';
    let currentVersion = null;

    async function checkForUpdates() {
      try {
        // Fetch the latest release from GitHub API
        const response = await fetch(`https://api.github.com/repos/${repoOwner}/${repoName}/releases/latest`);
        const data = await response.json();

        if (!response.ok) {
          console.error("Error fetching release:", data.message);
          return;
        }

        const latestVersion = data.tag_name;

        // If this is the first check, initialize currentVersion
        if (!currentVersion) {
          currentVersion = latestVersion;
        }

        // If the version has changed, refresh the page
        if (latestVersion !== currentVersion) {
          console.log("New version detected! Reloading the page.");
          location.reload();
        } else {
          console.log("No new version detected.");
        }
      } catch (error) {
        console.error("Error checking for updates:", error);
      }
    }

    // Check for updates every 5 minutes (300000 ms)
    setInterval(checkForUpdates, 300000);
  </script>
</head>
<body>
  <h1>2Welcome to My Auto-Updating Web Page</h1>
  <p>This page automatically checks for updates from GitHub and reloads if thereâ€™s a new version available.</p>

  <script>
    // Initial check when the page loads
    checkForUpdates();
  </script>
</body>
</html>
